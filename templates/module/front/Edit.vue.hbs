<template>
    <{{identifiers.kebab_singular}}-form :item="{{identifiers.camel_singular}}" />
</template>

<script>
import { get{{identifiers.pascal_singular}} } from '../routes/api';
import {{identifiers.pascal_singular}}Form from './partials/Form';

export default {
    components: { {{identifiers.pascal_singular}}Form },

    data() {
        return {
            {{identifiers.camel_singular}}: null,
        };
    },

    created() {
        this.setTitle('Edit {{identifiers.label_singular}}');

        this.fetch{{identifiers.pascal_singular}}();
    },

    methods: {
        fetch{{identifiers.pascal_singular}}() {
            this.startLoading('primary.{{identifiers.kebab_singular}}');

            get{{identifiers.pascal_singular}}(this.$route.params.id).then(response => {
                this.{{identifiers.camel_singular}} = response.data.data;

                this.stopLoading('primary.{{identifiers.kebab_singular}}');
            }).catch(() => {
                this.$router.push({
                    name: '{{identifiers.kebab_plural}}.index',
                });
            });
        },
    },
};
</script>
